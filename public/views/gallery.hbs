<style>
    .view-group {
        display: -ms-flexbox;
        display: flex;
        -ms-flex-direction: row;
        flex-direction: row;
        padding-left: 0;
        margin-bottom: 0;
    }
    .thumbnail
    {
        margin-bottom: 30px;
        padding: 0px;
        -webkit-border-radius: 0px;
        -moz-border-radius: 0px;
        border-radius: 0px;
    }

    .item.list-group-item
    {
        float: none;
        width: 100%;
        background-color: #fff;
        margin-bottom: 30px;
        -ms-flex: 0 0 100%;
        flex: 0 0 100%;
        max-width: 100%;
        padding: 0 1rem;
        border: 0;
    }
    .item.list-group-item .img-event {
        float: left;
        width: 30%;
    }

    .item.list-group-item .list-group-image
    {
        margin-right: 10px;
    }
    .item.list-group-item .thumbnail
    {
        margin-bottom: 0px;
        display: inline-block;
    }
    .item.list-group-item .caption
    {
        float: left;
        width: 70%;
        margin: 0;
    }

    .item.list-group-item:before, .item.list-group-item:after
    {
        display: table;
        content: " ";
    }

    .item.list-group-item:after
    {
        clear: both;
    }
</style>
<div class="container" style="margin-top: 75px;">
    <div class="row">
        <div class="col-lg-12 my-3">
            <div class="pull-right">
                <div class="btn-group">
                    <button class="btn btn-info" id="list">
                        List View
                    </button>
                    <button class="btn btn-danger" id="grid">
                        Grid View
                    </button>
                </div>
            </div>
        </div>
    </div>
    <div id="products" class="row view-group">
        {{#each captures as |capture|}}
            <div class="item col-xs-4 col-lg-4">
                <div class="thumbnail card">
                    <div class="img-event" style="cursor: pointer"
                         onClick="return showScreen('{{capture.shareKey}}', {{capture.private}})">
                        <img class="group list-group-image img-fluid" src="{{capture.path}}" alt="" />
                    </div>
                    <div class="caption card-body">
                        <h4 class="group card-title inner list-group-item-heading">{{capture.title}}</h4>
                        <p class="group inner list-group-item-text">{{dateFormat capture.uploadAt "DD/MM/YYYY HH:mm:ss"}}</p>
                        <div class="row">
                            {{#ifCond capture.private '===' 1}}
                                <div class="col-xs-12 col-md-6">
                                    <button class="btn btn-sm btn-success" data-key="{{capture.shareKey}}" disabled>Set public</button>
                                </div>
                            {{else}}
                                <div class="col-xs-12 col-md-6">
                                    <button class="btn btn-sm btn-success" data-key="{{capture.shareKey}}" disabled>Copy Link (soon)</button>
                                </div>
                            {{/ifCond}}
                            <div class="col-xs-12 col-md-6">
                                <button class="btn btn-sm btn-danger" data-key="{{capture.shareKey}}" disabled>Delete (soon)</button>
                            </div>
                        </div>
                    </div>
                </div>
            </div>
        {{/each}}
    </div>
</div>

<script>
    let showScreen = (key, privacy) => {
        let url = privacy === 1 ? 'https://pasteurscreens.tk' : 'https://purs.tk';
        $(location).attr('href', `${url}/-${key}`);
    };

    $(document).ready(() => {
      let items = $('#products .item');
        $('#list').click(event => { event.preventDefault(); items.addClass('list-group-item');});
        $('#grid').click(event => { event.preventDefault(); items.removeClass('list-group-item'); items.addClass('grid-group-item');});
    });
</script>